---
# Auto Bootstraping after git updating
# auto_bootstrap.yml

- hosts: all

  tasks:
    - name: Pulling dotfiles Repo for Update
      git:
        repo: "{{ jp_git_http }}/{{ dot_dir_name }}.git"
        dest: "{{ git_file_loc }}/{{ dot_dir_name }}"
        update: yes
        force: yes
        accept_hostkey: yes

    - name: source bootstrap.sh
      shell:
        './bootstrap.sh'
      args:
        chdir: "{{ git_file_loc }}/{{ dot_dir_name }}"
      register: bootstrap_linux
      failed_when: False

    - name: Show bootstrap.sh Output
      debug: var=bootstrap_linux.stdout_lines
